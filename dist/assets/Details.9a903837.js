var h=Object.defineProperty;var u=(a,t,i)=>t in a?h(a,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[t]=i;var l=(a,t,i)=>(u(a,typeof t!="symbol"?t+"":t,i),i);import{r as d,j as s,a as o,_ as v,A as g,u as f,b as x,L as C}from"./index.b92cd693.js";import{u as P}from"./useQuery.esm.516ae6eb.js";const _=async({queryKey:a})=>{const[,t]=a;return(await fetch(`http://pets-v2.dev-apis.com/pets?id=${t}`)).json()},b=a=>P(["pet",a],_);class m extends d.exports.Component{constructor(){super(...arguments);l(this,"state",{active:0})}render(){const{images:i}=this.props,{active:r}=this.state;return s("div",{className:"carsouel",children:[o("img",{src:i[r],alt:"animal"}),o("div",{className:"carousel-smaller",children:i.map((n,c)=>o("img",{src:n,alt:"animal",className:c===r?"active":"","data-index":c,onClick:e=>{e.target instanceof HTMLImageElement&&e.target.dataset.index&&this.setState({active:+e.target.dataset.index})}},n))})]})}}l(m,"defaultProps",{images:["http://pets-images.dev-apis.com/pets/none.jpg"]});const k=d.exports.lazy(()=>v(()=>import("./Modal.71cf8c61.js"),["assets/Modal.71cf8c61.js","assets/index.b92cd693.js","assets/index.79678100.css"])),A=()=>{var p;const[a,t]=d.exports.useState(!1),[,i]=d.exports.useContext(g),{id:r}=f();if(!r)throw new Error("no id provided to details page ");const n=b(+r),c=x(),e=(p=n==null?void 0:n.data)==null?void 0:p.pets[0];return s("div",{className:"details",children:[n.isLoading&&o("div",{className:"loader-container",children:o(C,{})}),n.isError&&o("span",{children:n.error.message}),n.data&&s("div",{children:[o(m,{images:e.images}),s("h1",{children:[" ",e.name," "]}),s("h2",{children:["`",e.animal,"-",e.breed,"-",e.city,"-",e.state,"`"]}),s("button",{onClick:()=>t(!0),children:[" ","Adopt ",e.name]}),s("p",{children:[" ",e.description," "]}),o("button",{onClick:()=>{c("/")},children:"Back"}),a&&o(k,{children:s("div",{children:[s("h1",{children:[" would you like to adopt ",e.name," ? "]}),s("div",{className:"buttons",children:[s("button",{onClick:()=>{i(e),c("/")},children:[" ","Yes"," "]}),s("button",{onClick:()=>{t(!1)},children:[" ","Cancel"," "]})]})]})})]})]})};export{A as default};
